# 国土交通省 入札案件抽出 Chrome拡張機能 - 開発TODOリスト

**更新日**: 2025年7月21日  
**バージョン**: 2.0  
**関連ドキュメント**: Project_design.md, Project_Test.md, Project_TestCase.md  

----------------------------------------------------------------

## Phase 1: 基本構造とmanifest.json作成 ✅ 完了

### 1.1 プロジェクト初期設定
- [x] プロジェクトディレクトリ構造を作成
  - [x] srcディレクトリ作成
  - [x] src/popup、src/content、src/backgroundディレクトリ作成
  - [x] src/assets、src/assets/iconsディレクトリ作成

### 1.2 manifest.json作成
- [x] manifest.jsonファイルを作成（Manifest V3準拠）
  - [x] 基本情報を設定（name, version, description）
  - [x] permissionsを設定（clipboardWrite, tabs, scripting）
  - [x] content_scriptsの設定（詳細ページのみ）
  - [x] background service workerの設定
  - [x] actionの設定（ポップアップ）
  - [x] iconsの設定（16x16, 48x48, 128x128）

### 1.3 アイコン作成
- [x] 拡張機能用アイコンを作成
  - [x] icon16.pngを作成
  - [x] icon48.pngを作成
  - [x] icon128.pngを作成

----------------------------------------------------------------

## Phase 2: Content Scriptによるデータ抽出機能実装 ✅ 完了

### 2.1 content.js実装
- [x] content.jsファイルを作成
  - [x] chrome.runtime.onMessageリスナーを設定
  - [x] 詳細ページ判定ロジックを実装
  - [x] エラーハンドリングの実装

### 2.2 extractor.js実装
- [x] extractor.jsファイルを作成
  - [x] extractData()関数を実装
    - [x] 発注機関の抽出（lblHachukikan）
    - [x] 工事名称の抽出（lblKojiNm）
    - [x] 工事場所の抽出（lblKojiPlaceFrom）
    - [x] 工事種別の抽出（lblKojiType）
    - [x] 設計書番号の抽出（lblSekkeisyoNo）
    - [x] 公告日時の抽出（lblKokokuDate）
    - [x] 期限日時の抽出（lblkigenDate）
    - [x] 開札日時の抽出（lblkasatuDate）
  - [x] extractPdfUrl()関数を実装

### 2.3 formatter.js実装
- [x] formatter.jsファイルを作成
  - [x] formatData()関数を実装
  - [x] parseOrganization()関数を実装
  - [x] formatDateTime()関数を実装

----------------------------------------------------------------

## Phase 3: Popup UIとBackground Script実装 ✅ 完了

### 3.1 popup.html作成
- [x] popup.htmlファイルを作成
  - [x] シンプルな1ボタンUI
  - [x] 状態表示エリア
  - [x] 結果表示エリア

### 3.2 popup.css作成
- [x] popup.cssファイルを作成
  - [x] ポップアップウィンドウのスタイリング（幅: 350px）
  - [x] ボタンのスタイリング
  - [x] 状態表示のスタイリング

### 3.3 popup.js実装
- [x] popup.jsファイルを作成
  - [x] シンプルな1ボタンハンドラー
  - [x] コンテンツスクリプトの存在確認（ping）
  - [x] 必要に応じたスクリプト注入
  - [x] エラーハンドリング

### 3.4 background.js実装
- [x] background.jsファイルを作成
  - [x] クリップボードコピー機能
  - [x] メッセージハンドリング

----------------------------------------------------------------

## Phase 4: コード最適化と整理 ✅ 完了

### 4.1 不要なコードの削除
- [x] 一覧ページ関連機能の削除
  - [x] list-extractor.jsの削除
  - [x] リスト関連のUIコンポーネント削除
  - [x] リスト関連のメッセージハンドリング削除

### 4.2 エラーメッセージの統一
- [x] すべてのエラーメッセージを統一
- [x] ユーザーフレンドリーなメッセージに変更

----------------------------------------------------------------

## Phase 5: ドキュメント更新 ✅ 完了

### 5.1 ユーザー向けドキュメント
- [x] README.mdの更新
  - [x] 機能説明を詳細ページ専用に変更
  - [x] 使用方法の更新
  - [x] トラブルシューティングの追加

### 5.2 開発者向けドキュメント
- [x] 要件定義書.mdの更新
- [x] Project_design.mdの更新
- [x] Project_TODO.mdの更新（このファイル）

----------------------------------------------------------------

## Phase 6: テストとデバッグ

### 6.1 手動テスト
- [ ] 詳細ページでの動作確認
- [ ] エラーハンドリングの確認
- [ ] クリップボードコピーの確認
- [ ] 異なるブラウザサイズでの動作確認

### 6.2 エッジケーステスト
- [ ] 必要な要素が存在しない場合
- [ ] ネットワークエラー時の動作
- [ ] 長時間待機後の動作

----------------------------------------------------------------

## Phase 7: 内部配布準備

### 7.1 配布用ドキュメント
- [ ] インストール手順書の作成
- [ ] 使用マニュアルの作成
- [ ] トラブルシューティングガイドの作成

### 7.2 内部配布
- [ ] 拡張機能のパッケージング（.crxファイル）
- [ ] 配布方法の決定（共有フォルダ、メール等）
- [ ] 利用者への周知

----------------------------------------------------------------

## 継続的な改善タスク

### メンテナンス
- [ ] ユーザーフィードバックの収集と対応
- [ ] 入札情報サービスのDOM変更への対応
- [ ] Chrome APIの更新への対応
- [ ] セキュリティアップデート

### 将来的な検討事項
- [ ] 抽出データのプレビュー機能
- [ ] カスタム列設定機能
- [ ] エクスポート形式の追加（CSV、JSON）

----------------------------------------------------------------

## 変更履歴

### v2.0 (2025-07-21)
- 一覧ページ対応を削除
- 詳細ページ専用に特化
- ドキュメントの全面更新

### v1.0 (2025-07-20)
- 初版作成